<div class="tests-list-page">
  <div class="page-header">
    <h2>üìù –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ—Å—Ç—ã</h2>
    <p>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º —Ç–µ–º–∞–º</p>
  </div>

  <!-- –§–∏–ª—å—Ç—Ä—ã -->
  <div class="filters-section">
    <div class="filter-group">
      <label>–¢–µ–º–∞:</label>
      <select class="filter-select" (change)="onTopicChange($event)">
        @for (topic of topics; track topic.value) {
          <option [value]="topic.value">{{ topic.label }}</option>
        }
      </select>
    </div>

    <div class="filter-group">
      <label>–°–ª–æ–∂–Ω–æ—Å—Ç—å:</label>
      <select class="filter-select" (change)="onDifficultyChange($event)">
        @for (level of difficultyLevels; track level.value) {
          <option [value]="level.value">{{ level.label }}</option>
        }
      </select>
    </div>
  </div>

  @if (isLoading) {
    <div class="loading">
      <div class="spinner"></div>
      <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤...</p>
    </div>
  } @else if (errorMessage) {
    <div class="error">
      {{ errorMessage }}
    </div>
  } @else if (filteredTests.length === 0) {
    <div class="no-tests">
      <p>–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º</p>
    </div>
  } @else {
    <div class="tests-grid">
      @for (test of filteredTests; track test.id) {
        <div class="test-card">
          <div class="test-header">
            <div class="test-topic">
              <span class="topic-badge">{{ getTopicName(test.topic) }}</span>
              <span class="difficulty-badge" [class]="'difficulty-' + test.difficulty">
                {{ getDifficultyName(test.difficulty) }}
              </span>
            </div>
            <div class="test-time">
              ‚è±Ô∏è {{ test.timeLimit }} –º–∏–Ω
            </div>
          </div>

          <div class="test-content">
            <h3 class="test-title">{{ test.title }}</h3>
            <p class="test-description">{{ test.description }}</p>

            <div class="test-meta">
              <span class="meta-item">‚ùì {{ getQuestionCount(test) }} –≤–æ–ø—Ä–æ—Å–æ–≤</span>
              <span class="meta-item">üìä –ü—Ä–æ—Ö–æ–¥–Ω–æ–π –±–∞–ª–ª: 60%</span>
            </div>
          </div>

          <div class="test-actions">
            <button class="btn-start" (click)="startTest(test.id)">
              –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç
            </button>
          </div>
        </div>
      }
    </div>
  }
</div>
