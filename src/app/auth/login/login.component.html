<div class="login-container">
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
    <h3>–í—Ö–æ–¥ –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É</h3>
    <p class="form-description">–í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—É—á–∞—é—â–∏–º –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º</p>

    <div class="form-group">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        formControlName="email"
        class="form-control"
        [class.is-invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
        placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email"
      />
      @if (loginForm.get('email')?.invalid && loginForm.get('email')?.touched) {
        <div class="error-message">
          @if (loginForm.get('email')?.errors?.['required']) {
            <span>Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω</span>
          }
          @if (loginForm.get('email')?.errors?.['email']) {
            <span>–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email</span>
          }
        </div>
      }
    </div>

    <div class="form-group">
      <label for="password">–ü–∞—Ä–æ–ª—å</label>
      <input
        type="password"
        id="password"
        formControlName="password"
        class="form-control"
        [class.is-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
        placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å"
      />
      @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
        <div class="error-message">
          @if (loginForm.get('password')?.errors?.['required']) {
            <span>–ü–∞—Ä–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω</span>
          }
          @if (loginForm.get('password')?.errors?.['minlength']) {
            <span>–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –ø–∞—Ä–æ–ª—è - 6 —Å–∏–º–≤–æ–ª–æ–≤</span>
          }
        </div>
      }
    </div>

    @if (errorMessage) {
      <div class="alert alert-danger">
        {{ errorMessage }}
      </div>
    }

    <button
      type="submit"
      class="btn btn-primary btn-block"
      [disabled]="loginForm.invalid || isLoading"
    >
      @if (isLoading) {
        <span>–í—Ö–æ–¥...</span>
      } @else {
        <span>–í–æ–π—Ç–∏</span>
      }
    </button>

    <div class="text-center mt-3">
      <p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a routerLink="/auth/registration" class="link">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ —Å—Ç—É–¥–µ–Ω—Ç</a></p>
    </div>

    <!-- –ë—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ -->
    <div class="quick-login-section">
      <h4>–î–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç—ã:</h4>
      <div class="quick-login-buttons">
        <button (click)="quickLogin('admin')" class="btn btn-admin">
          –í–æ–π—Ç–∏ –∫–∞–∫ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
        </button>
        <button (click)="quickLogin('student')" class="btn btn-student">
          üéì –í–æ–π—Ç–∏ –∫–∞–∫ –°—Ç—É–¥–µ–Ω—Ç
        </button>
      </div>
      <div class="demo-credentials">
        <p><strong>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:</strong> admin.edu.ru / admin123</p>
        <p><strong>–°—Ç—É–¥–µ–Ω—Ç:</strong> student.edu.ru / student123</p>
        <p class="note">* –°—Ç—É–¥–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ</p>
      </div>
    </div>
  </form>
</div>
